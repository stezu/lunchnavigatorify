
/*
 * Using this Stylus file
 * ======================
 *
 * This file system is organized using a variation of Atomic Design,
 * styles are organized from small parts (atoms), to full pages (templates).
 *
 * In addition, there are helper functions and mixins that are defined first.
 * If this is done properly, there will be no repeat styles, and little to no overriding.
 *
 * As a style guide, keep nesting to a maximum of 3 levels (not including pseudo selectors),
 * limit use of advanced selectors (>, +, ~, etc), and avoid use of IDs if possible
 *
 *
 * Definitions
 * -----------
 * Utilities - functions, mixins, variables
 * Atoms - element styles, small building blocks (buttons, inputs, images)
 * Molecules - combination of atoms (forms, widgets)
 * Organisms - multiple molecules (header, sidebar, footer)
 * Templates - multiple organisms (home, accounts)
 * Pages - page specific overrides of templates
 */

// =======================
// Utilities
// =======================
@import "_utilities/variables"
@import "_utilities/mixins"
@import "_utilities/jeet/index"


// =======================
// Atoms
// =======================
@import "atoms/normalize"
@import "atoms/globals"
@import "atoms/buttons"


// =======================
// Molecules
// =======================
@import "molecules/select2"


// =======================
// Organisms
// =======================
@import "organisms/header"


// =======================
// Templates
// =======================
@import "templates/home"


// ===================
// Patterns
// ===================
.content
    margin 0 auto
    width 800px

.center
    text-align center

// ===================
// Home
// ===================
.org-form
    display none

    fieldset
        border none

.org-form__field
    border none
    border-bottom 1px solid #ccc
    padding 5px 10px
    margin-right 10px

    &:focus
        border-bottom 2px solid #aaa
        outline none

// ===================
// Header
// ===================
.page-header
    padding 20px 20px 0px

    &__title
        text-align center

.yelp-search
    padding 40px 0 40px
    position relative

    &__inputs
        border 1px solid #ddd
        border-radius 4px
        margin 0 auto
        max-width 800px
        padding 0
        width 98%

        @media (max-width: 600px)
            border none

    &__field
        float left
        font-size 16px
        outline none
        width 80%

        @media (max-width: 600px)
            float none
            width 100%

        .select2-search-field
            width 100%

            @media (max-width: 600px)
                border 1px solid #ddd
                width 100%

            .select2-input
                border 0
                font-size 16px
                height 50px
                line-height 30px
                margin 0
                outline none
                padding 20px 20px
                width 100% !important

        &--submit
            background $blue
            border none
            border-radius 0 4px 4px 0
            color #fff
            cursor pointer
            float right
            height 50px
            line-height 50px
            width 20%

            @media (max-width: 600px)
                border-radius 4px
                float none
                margin-top 10px
                width 100%


// ===================
// Content
// ===================
.results__list
    display flex
    flex-wrap wrap
    list-style none
    margin 0 auto
    max-width 1000px
    padding 0

    &__item
        background #f6f6f6
        flex auto
        margin 1%
        position relative
        transition background 250ms, box-shadow 350ms
        width 31.333333333%

        @media (max-width: 800px)
            width 48%

        @media (max-width: 600px)
            width 98%

        &.selected
            background #fff
            box-shadow 0 0 10px 5px rgba($blue, 0.5)

        &__yelp-link
            color $blue
            text-decoration none

        &__image
            float left

        &__details
            overflow hidden // keep away from image
            padding 10px
            padding-right 25px

        &__name
            display block
            font-size 1.2em
            margin-bottom 5px

        &__rating
            display block
            margin-bottom 5px

        &__phone
            color $blue
            display block
            text-decoration none

        &__delete
            background $blue
            font 0/0 a // hide text
            height 20px
            position absolute
            right 0
            top 0
            transition background 250ms
            width 20px

            &::before,
            &::after
                background #fff
                content ""
                height 2px
                left 50%
                position absolute
                top 50%
                transition background 250ms
                width 16px

            &:before
                transform translate(-50%, -50%) rotate(-45deg)

            &:after
                transform translate(-50%, -50%) rotate(45deg)

            &:hover,
            &:focus
                background transparent

                &::before,
                &::after
                    background $blue

.select2-results
    background #fff
    box-shadow 0 0 3px rgba(0, 0, 0, 0.2)
    list-style none
    margin 0
    padding 0
    width auto

    li
        border-bottom 1px solid #eee
        padding 10px

    &:last-child
        border-bottom none

    .restaurant
        color #999
        overflow hidden // clearfix

        &__image
            float left
            margin-right 15px
            width 75px

        &__name
            color #333
            margin 0 0 5px

.current-users
    float left
    width 20%

.chat-window
    border 1px solid #ccc
    float left
    margin 10px auto
    min-height 200px
    position relative
    width 75%

    .chat-content
        min-height: 200px
        width 100%

    .chat-controls
        bottom 0
        position absolute
        width 100%

        .message
            padding 10px 0
            width 80%

        .send-message
            padding 10px 0
            width 20%
